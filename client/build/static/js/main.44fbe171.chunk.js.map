{"version":3,"sources":["actions/types.js","actions/index.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["FETCH_USER","fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","style","margin","credits","to","id","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector","console","log"],"mappings":"gWAAaA,EAAa,aCGbC,EAAY,yDACrB,WAAMC,GAAN,eAAAC,EAAA,sEACsBC,IAAMC,IAAI,sBADhC,OACUC,EADV,OAEIJ,EAAS,CAAEK,KAAMP,EAAYQ,QAASF,EAAIG,OAF9C,2CADqB,uDAMZC,EAAc,SAACC,GAAD,8CACvB,WAAMT,GAAN,eAAAC,EAAA,sEACsBC,IAAMQ,KAAK,cAAeD,GADhD,OACUL,EADV,OAEIJ,EAAS,CAAEK,KAAMP,EAAYQ,QAASF,EAAIG,OAF9C,2CADuB,uD,wBCJrBI,E,4JACF,WAAU,IAAD,OAEL,OACI,cAAC,IAAD,CACIC,KAAK,SACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,8GALf,SAOI,wBAAQC,UAAU,MAAlB,+B,GAXOC,aAmBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GCnBhCW,E,mKACF,WACI,OAAQC,KAAKR,MAAMS,MACf,KAAK,KACD,OACJ,KAAK,EACD,OACI,6BAAI,mBAAGC,KAAK,eAAR,iCAEZ,QACI,MAAO,CACH,6BAAY,cAAC,EAAD,KAAJ,KACR,qBAAYC,MAAO,CAAEC,OAAQ,UAA7B,sBACcJ,KAAKR,MAAMS,KAAKI,UADtB,KAGR,6BAAY,mBAAGH,KAAK,cAAR,qBAAJ,S,oBAMxB,WACI,OACA,8BACI,sBAAKP,UAAU,cAAf,UACI,cAAC,IAAD,CACIW,GAAIN,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,kBAFd,oBAMF,oBAAIY,GAAG,aAAaZ,UAAU,6BAA9B,SACOK,KAAKQ,2B,GAhCLZ,aA8CNC,mBALf,YACI,MAAO,CAAEI,KADsB,EAARA,QAKZJ,CAAyBE,GCrCzBU,EAZC,WACZ,OACI,sBAAKN,MAAO,CAAEO,UAAW,UAAzB,UACI,yCADJ,uCCIFC,EAAY,kBAAM,4CAClBC,EAAY,kBAAM,yCAGlBC,E,uKACF,WACIb,KAAKR,MAAMhB,c,oBAGf,WACI,OACI,qBAAKmB,UAAU,YAAf,SACI,cAAC,IAAD,UACI,gCACI,cAAC,EAAD,IACA,cAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,IAAIC,UAAWP,IACjC,cAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,cAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,e,GAb5ChB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBgB,GC9BvBI,cAAgB,CAC3BhB,KCFa,WAAgC,IAAvBiB,EAAsB,uDAAd,KAAMC,EAAQ,uCAC5C,OAAQA,EAAOrC,MACX,KAAKP,EACD,OAAO4C,EAAOpC,UAAW,EAE7B,QACI,OAAOmC,MCEbE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACL,cAAC,IAAD,CAAWN,MAAOA,EAAlB,SAAyB,cAAC,EAAD,MACzBO,SAASC,cAAc,UAG3BC,QAAQC,IAAI,gBAAiBpC,+GAC7BmC,QAAQC,IAAI,iBAAkBpC,gB","file":"static/js/main.44fbe171.chunk.js","sourcesContent":["export const FETCH_USER = 'fetch_user';\n","import axios from 'axios';\nimport { FETCH_USER } from './types'; // thunk gives us direct access to dispatch function\n\nexport const fetchUser = () => \n    async dispatch => {\n        const res = await axios.get('./api/current_user');\n        dispatch({ type: FETCH_USER, payload: res.data});\n    };\n\nexport const handleToken = (token) =>\n    async dispatch => {\n        const res = await axios.post('/api/stripe', token);\n        dispatch({ type: FETCH_USER, payload: res.data});\n    };","import React, { Component } from \"react\";\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass Payments extends Component {\n    render() {\n \n        return (\n            <StripeCheckout\n                name=\"Emaily\"\n                description=\"$5 for 5 email credits\"\n                amount={500}\n                token={token => this.props.handleToken(token)}\n                stripeKey={process.env.REACT_APP_STRIPE_KEY}\n            >\n                <button className=\"btn\">\n                    Add Credits\n                </button>\n            </StripeCheckout>\n        );\n    }\n}\n\nexport default connect(null, actions)(Payments);","import React, { Component} from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments';\n\nclass Header extends Component {\n    renderContent() {\n        switch (this.props.auth) {\n            case null:\n                return;\n            case false:\n                return (\n                    <li><a href=\"/auth/google\">Login With Google</a></li>\n                );\n            default:\n                return [\n                    <li key=\"1\"><Payments /></li>,\n                    <li key=\"3\" style={{ margin: '0 10px' }}>\n                        Credits: {this.props.auth.credits}\n                    </li>,\n                    <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\n                ];\n        }\n    }\n\n\n    render() {\n        return (\n        <nav>\n            <div className=\"nav-wrapper\">\n                <Link \n                    to={this.props.auth ? '/surveys' : '/'} \n                    className=\"left brand-logo\"\n                >\n                  Emaily\n              </Link>\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                    {this.renderContent()}\n              </ul>\n            </div>\n          </nav>\n        )\n    }\n}\n\n// hook component to store\nfunction mapStateToProps({ auth }) {\n    return { auth };\n}\n\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\n\nconst Landing = () => {\n    return (\n        <div style={{ textAlign: 'center'}}>\n            <h1>\n                Emaily!\n            </h1>\n            Collect feedback from your users\n        </div>\n\n    );\n};\n\nexport default Landing;","import React, { Component } from 'react';\nimport { BrowserRouter, Route} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\n\nimport Header from './Header';\nimport Landing from './Landing';\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>Header</h2>;\n\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.fetchUser();\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <BrowserRouter>\n                    <div >\n                        <Header />\n                        <Route exact path=\"/\" component={Landing} />\n                        <Route exact path=\"/surveys\" component={Dashboard} />\n                        <Route path=\"/surveys/new\" component={SurveyNew} />\n                    </div>          \n                </BrowserRouter>\n            </div>\n        );\n    }\n}\n\nexport default connect(null, actions)(App);","import { combineReducers } from \"redux\";\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    auth: authReducer\n});","import { FETCH_USER } from '../actions/types';\n\nexport  default  function(state = null, action) {\n    switch (action.type) {\n        case FETCH_USER:\n            return action.payload || false;\n\n        default:\n            return state;\n    }\n}","import 'materialize-css/dist/css/materialize.min.css'; //no relative path, means module\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n    <Provider  store={store}><App /></Provider>, \n    document.querySelector('#root'));\n\n\nconsole.log('STRIPE KEY IS', process.env.REACT_APP_STRIPE_KEY);\nconsole.log('Environment is', process.env.NODE_ENV);"],"sourceRoot":""}